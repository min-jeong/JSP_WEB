<?xml version="1.0" encoding="UTF-8"?>
<query> 
	<member>
		<getMemberByIdAndPassword>
			SELECT MEMBER_ID
				   , NICK_NAME
				   , PASSWORD
				   , EMAIL
			FROM   MEMBERS
			WHERE  MEMBER_ID = ?
			AND    PASSWORD = ?
		</getMemberByIdAndPassword>
		
		<registerMember>
			INSERT INTO MEMBERS(
								MEMBER_ID
								, PASSWORD
								, NICK_NAME
								, EMAIL								
								)
			VALUES    		 (
							  ?
							  , ?
							  , ?
							  , ?
			)
				
		</registerMember>
	</member>
	
	<article>
		<getArticleInfo>
			SELECT *
			FROM   ARTICLE A, MEMBERS M
			WHERE  M.MEMBER_ID = A.MEMBER_ID
		</getArticleInfo>
		
		<getOneArticleInfoByArticleId>
			SELECT *
			FROM   ARTICLE A, MEMBERS M
			WHERE  M.MEMBER_ID = A.MEMBER_ID
			AND    A.ARTICLE_ID = ?
		</getOneArticleInfoByArticleId>
		
		<getUpdateHits>
			UPDATE ARTICLE SET HITS = HITS + 1 WHERE ARTICLE_ID = ?
		</getUpdateHits>
		
		<getUpdateRecommends>
		    UPDATE ARTICLE SET RECOMMENDS = RECOMMENDS + 1 WHERE ARTICLE_ID = ?
		</getUpdateRecommends>
		
		<getCountHits>
			SELECT *
			FROM   ARTICLE A, MEMBERS M
			WHERE  M.MEMBER_ID = A.MEMBER_ID
		</getCountHits>
		
		<deleteArticleByArticleId>
			DELETE FROM ARTICLE 
			WHERE ARTICLE_ID = ?
		</deleteArticleByArticleId>
		
		<writeArticle>
			INSERT INTO ARTICLE (
								ARTICLE_ID
								, DESCRIPT
								, MEMBER_ID
								, TITLE
			)
			VALUES (
					ARTICLE_ID_SEQ.NEXTVAL
					, ?
					, ?
					, ?
			)
		</writeArticle>
		
		
		
		<updateArticleOnlyTitle>
			UPDATE ARTICLE
			SET	   TITLE = ?
			WHERE  ARTICLE_ID = ?
		</updateArticleOnlyTitle>
		
		<updateArticleOnlyDescription>
			UPDATE  ARTICLE
			SET		DESCRIPT = ?
			WHERE   ARTICLE_ID = ?
		</updateArticleOnlyDescription>
		
		<updateArticle>
			UPDATE  ARTICLE
			SET		TITLE = ?
					, DESCRIPT = ?
			WHERE	ARTICLE_ID = ?
		</updateArticle>
		
	</article>
</query>